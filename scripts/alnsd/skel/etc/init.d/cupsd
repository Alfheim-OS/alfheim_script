#!/sbin/openrc-run
# Copyright 1999-2016 Gentoo Foundation

description="The Common Unix Printing System daemon"
command="/usr/bin/cupsd"

depend() {
	use net
	need dbus avahi-daemon
	before nfs
	after logger
}

start_pre() {
	checkpath -q -d -m 0775 -o root:lp /var/cache/cups
	checkpath -q -d -m 0775 -o root:lp /var/cache/cups/rss
	checkpath -q -d -m 0755 -o root:lp /run/cups
	checkpath -q -d -m 0511 -o daemon:sys /run/cups/certs
}
